<?xml version="1.0" encoding="UTF-8"?>
<svg width="1400" height="1000" viewBox="0 0 1400 1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .component { fill: #444; stroke: #888; stroke-width: 3; }
      .ml303 { fill: #440000; stroke: #ff0000; stroke-width: 3; }
      .arduino { fill: #005C5C; stroke: #00a0a0; stroke-width: 3; }
      .testpoint { fill: #ff6600; stroke: #ff6600; stroke-width: 2; }
      .wire { fill: none; stroke-width: 4; }
      .power { stroke: #ff0000; stroke-width: 5; }
      .ground { stroke: #000000; stroke-width: 5; }
      .signal { stroke: #00ff00; stroke-width: 4; }
      .analog { stroke: #ffaa00; stroke-width: 4; }
      .digital { stroke: #00aaff; stroke-width: 4; }
      text { fill: #fff; font-size: 16px; font-family: Arial, sans-serif; font-weight: bold; }
      .label { font-size: 24px; font-weight: bold; }
      .title { font-size: 32px; font-weight: bold; fill: #ff3333; }
      .pin-label { font-size: 14px; fill: #ccc; }
      .value { fill: #ffff00; font-weight: bold; font-size: 18px; }
      .section-title { font-size: 20px; fill: #00ffff; font-weight: bold; }
      .warning { fill: #ff0000; font-size: 18px; font-weight: bold; }
    </style>
  </defs>
  
  <!-- Background -->
  <rect width="1400" height="1000" fill="#222"/>
  
  <!-- Title -->
  <text x="700" y="40" text-anchor="middle" class="title">ML-303 Interface Connection Points</text>
  <text x="700" y="70" text-anchor="middle" class="label">Test Points and Arduino Integration Locations</text>
  
  <!-- ML-303 Main Board Representation -->
  <rect class="ml303" x="100" y="100" width="600" height="700" rx="20"/>
  <text x="400" y="85" text-anchor="middle" class="label">ML-303 V5 Main Board</text>
  
  <!-- Power Supply Section -->
  <text x="130" y="140" class="section-title">Power Supply Test Points:</text>
  
  <circle cx="170" cy="170" r="8" class="testpoint"/>
  <text x="190" y="175" class="value">+12V Input</text>
  <text x="190" y="195" class="pin-label">External Power Jack</text>
  
  <circle cx="170" cy="220" r="8" class="testpoint"/>
  <text x="190" y="225" class="value">+5.333V Digital</text>
  <text x="190" y="245" class="pin-label">Regulated from +12V</text>
  
  <circle cx="170" cy="270" r="8" class="testpoint"/>
  <text x="190" y="275" class="value">+15V Analog</text>
  <text x="190" y="295" class="pin-label">RECOM 0515S Output</text>
  
  <circle cx="170" cy="320" r="8" class="testpoint"/>
  <text x="190" y="325" class="value">-15V Analog</text>
  <text x="190" y="345" class="pin-label">RECOM 0515S Output</text>
  
  <circle cx="170" cy="370" r="8" class="testpoint"/>
  <text x="190" y="375" class="value">Digital GND</text>
  <text x="190" y="395" class="pin-label">Common Reference</text>
  
  <circle cx="170" cy="420" r="8" class="testpoint"/>
  <text x="190" y="425" class="value">Analog GND</text>
  <text x="190" y="445" class="pin-label">Star Ground Point</text>
  
  <!-- Microcontroller Interface Section -->
  <text x="130" y="490" class="section-title">PIC18LF452 Interface:</text>
  
  <circle cx="170" cy="520" r="8" class="testpoint"/>
  <text x="190" y="525" class="value">Clock Output</text>
  <text x="190" y="545" class="pin-label">Sequencer Timing</text>
  
  <circle cx="170" cy="570" r="8" class="testpoint"/>
  <text x="190" y="575" class="value">Gate Output</text>
  <text x="190" y="595" class="pin-label">Note Trigger</text>
  
  <circle cx="170" cy="620" r="8" class="testpoint"/>
  <text x="190" y="625" class="value">MIDI RX</text>
  <text x="190" y="645" class="pin-label">Pin RB5 (Software)</text>
  
  <circle cx="170" cy="670" r="8" class="testpoint"/>
  <text x="190" y="675" class="value">MIDI TX</text>
  <text x="190" y="695" class="pin-label">Pin RB4 (Software)</text>
  
  <!-- Control Voltage Access Section -->
  <text x="440" y="140" class="section-title">Control Voltage Access:</text>
  
  <circle cx="480" cy="170" r="8" class="testpoint"/>
  <text x="500" y="175" class="value">Cutoff CV</text>
  <text x="500" y="195" class="pin-label">VCF Frequency Control</text>
  
  <circle cx="480" cy="220" r="8" class="testpoint"/>
  <text x="500" y="225" class="value">Resonance CV</text>
  <text x="500" y="245" class="pin-label">VCF Resonance (Q)</text>
  
  <circle cx="480" cy="270" r="8" class="testpoint"/>
  <text x="500" y="275" class="value">Env Mod CV</text>
  <text x="500" y="295" class="pin-label">Envelope Amount</text>
  
  <circle cx="480" cy="320" r="8" class="testpoint"/>
  <text x="500" y="325" class="value">Decay CV</text>
  <text x="500" y="345" class="pin-label">Envelope Decay Time</text>
  
  <circle cx="480" cy="370" r="8" class="testpoint"/>
  <text x="500" y="375" class="value">VCO CV Input</text>
  <text x="500" y="395" class="pin-label">Note Pitch Control</text>
  
  <!-- User Interface Section -->
  <text x="440" y="440" class="section-title">User Interface:</text>
  
  <circle cx="480" cy="470" r="8" class="testpoint"/>
  <text x="500" y="475" class="value">Run/Stop Switch</text>
  <text x="500" y="495" class="pin-label">Transport Control</text>
  
  <circle cx="480" cy="520" r="8" class="testpoint"/>
  <text x="500" y="525" class="value">Pattern Select</text>
  <text x="500" y="545" class="pin-label">Bank/Pattern Button</text>
  
  <circle cx="480" cy="570" r="8" class="testpoint"/>
  <text x="500" y="575" class="value">Mode Switch</text>
  <text x="500" y="595" class="pin-label">Play/Track/Pattern</text>
  
  <circle cx="480" cy="620" r="8" class="testpoint"/>
  <text x="500" y="625" class="value">Tempo Control</text>
  <text x="500" y="645" class="pin-label">BPM Adjustment</text>
  
  <!-- Audio Signal Path -->
  <text x="440" y="690" class="section-title">Audio Path:</text>
  
  <circle cx="480" cy="720" r="8" class="testpoint"/>
  <text x="500" y="725" class="value">VCO Output</text>
  <text x="500" y="745" class="pin-label">Raw Oscillator</text>
  
  <circle cx="480" cy="770" r="8" class="testpoint"/>
  <text x="500" y="775" class="value">VCF Output</text>
  <text x="500" y="795" class="pin-label">Filtered Audio</text>
  
  <!-- Arduino Interface Box -->
  <rect class="arduino" x="800" y="150" width="400" height="650" rx="15"/>
  <text x="1000" y="130" text-anchor="middle" class="label">Arduino Integration Points</text>
  
  <!-- Arduino Connection Sections -->
  <text x="820" y="190" class="section-title">Power Connections:</text>
  <text x="840" y="220" class="value">+5V from Arduino USB/External</text>
  <text x="840" y="245" class="value">GND (shared digital ground)</text>
  
  <text x="820" y="290" class="section-title">Analog Monitoring (CV Inputs):</text>
  <text x="840" y="320" class="value">A0 → Cutoff CV Monitor</text>
  <text x="840" y="345" class="value">A1 → Resonance CV Monitor</text>
  <text x="840" y="370" class="value">A2 → Env Mod CV Monitor</text>
  <text x="840" y="395" class="value">A3 → Decay CV Monitor</text>
  
  <text x="820" y="440" class="section-title">Digital I/O:</text>
  <text x="840" y="470" class="value">D2 → Run/Stop Button (INT0)</text>
  <text x="840" y="495" class="value">D3 → Pattern Button (INT1)</text>
  <text x="840" y="520" class="value">D4 → Clock Input Monitor</text>
  <text x="840" y="545" class="value">D5 → Gate Input Monitor</text>
  <text x="840" y="570" class="value">D6 → Gate Output Control</text>
  
  <text x="820" y="615" class="section-title">Communication:</text>
  <text x="840" y="645" class="value">A4 → MIDI RX (via optocoupler)</text>
  <text x="840" y="670" class="value">A5 → MIDI TX (direct connection)</text>
  
  <text x="820" y="715" class="section-title">SPI/DAC Interface:</text>
  <text x="840" y="745" class="value">D11 → SPI SCK/MOSI (shared)</text>
  <text x="840" y="770" class="value">D13 → DAC Chip Select</text>
  <text x="840" y="795" class="value">CV Output → VCO Input</text>
  
  <!-- Connection Wires (Key Connections) -->
  <!-- Power connections -->
  <line class="power" x1="175" y1="220" x2="820" y2="220"/>    <!-- +5V digital -->
  <line class="ground" x1="175" y1="370" x2="820" y2="245"/>   <!-- GND -->
  
  <!-- Analog monitoring -->
  <line class="analog" x1="485" y1="170" x2="820" y2="320"/>   <!-- Cutoff -->
  <line class="analog" x1="485" y1="220" x2="820" y2="345"/>   <!-- Resonance -->
  <line class="analog" x1="485" y1="270" x2="820" y2="370"/>   <!-- Env Mod -->
  <line class="analog" x1="485" y1="320" x2="820" y2="395"/>   <!-- Decay -->
  
  <!-- Digital I/O -->
  <line class="digital" x1="485" y1="470" x2="820" y2="470"/>  <!-- Run/Stop -->
  <line class="digital" x1="485" y1="520" x2="820" y2="495"/>  <!-- Pattern -->
  <line class="digital" x1="175" y1="520" x2="820" y2="520"/>  <!-- Clock -->
  <line class="digital" x1="175" y1="570" x2="820" y2="545"/>  <!-- Gate In -->
  
  <!-- MIDI -->
  <line class="signal" x1="175" y1="620" x2="820" y2="645"/>   <!-- MIDI RX -->
  <line class="signal" x1="175" y1="670" x2="820" y2="670"/>   <!-- MIDI TX -->
  
  <!-- CV Output -->
  <line class="analog" x1="1180" y1="795" x2="485" y2="370"/>  <!-- DAC to VCO -->
  
  <!-- Critical Safety Warning Box -->
  <rect fill="#330000" stroke="#ff0000" stroke-width="4" x="100" y="850" width="1200" height="120" rx="10"/>
  <text x="120" y="880" class="warning">⚠️ CRITICAL SAFETY WARNINGS:</text>
  <text x="140" y="910" fill="#fff">• ML-303 sequencer board has NO reverse polarity protection</text>
  <text x="140" y="935" fill="#fff">• ALWAYS verify all power connections with continuity tester before first power-up</text>
  <text x="140" y="960" fill="#fff">• GND connections may show false continuity due to MIDI ground loops - verify VDC polarity!</text>
  
  <!-- Interface Notes -->
  <text x="750" y="950" class="section-title">Interface Notes:</text>
  <text x="750" y="975" fill="#fff">All test points accessible with standard oscilloscope probes</text>
  <text x="750" y="995" fill="#fff">Use isolated measurement techniques for analog section</text>
</svg>