<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ML-303 Arduino Integration Wiring Diagram</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            margin: 0;
            padding: 20px;
            background: #f0f0f0;
        }
        .diagram-container {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            padding: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .title {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .subtitle {
            font-size: 16px;
            color: #7f8c8d;
            margin-bottom: 20px;
        }
        .diagram-section {
            margin-bottom: 40px;
        }
        .section-title {
            font-size: 18px;
            font-weight: bold;
            color: #34495e;
            margin-bottom: 15px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 5px;
        }
        .wire-legend {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
            padding: 15px;
            background: #ecf0f1;
            border-radius: 5px;
        }
        .wire-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .wire-color {
            width: 20px;
            height: 4px;
            border-radius: 2px;
        }
        .connection-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        .connection-table th,
        .connection-table td {
            border: 1px solid #bdc3c7;
            padding: 8px 12px;
            text-align: left;
        }
        .connection-table th {
            background: #3498db;
            color: white;
            font-weight: bold;
        }
        .connection-table tr:nth-child(even) {
            background: #f8f9fa;
        }
        .mounting-info {
            background: #e8f5e8;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #27ae60;
        }
        .warning-box {
            background: #fff3cd;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #ffc107;
            margin-top: 20px;
        }
        .pin-label {
            font-size: 10px;
            font-weight: bold;
        }
        .component-label {
            font-size: 12px;
            font-weight: bold;
            fill: #2c3e50;
        }
        .wire-path {
            stroke-width: 2;
            fill: none;
        }
        .pin-highlight {
            stroke: #e74c3c;
            stroke-width: 2;
            fill: #ff6b6b;
        }
        .board-outline {
            stroke: #34495e;
            stroke-width: 2;
            fill: #2ecc71;
            fill-opacity: 0.3;
        }
        .chip-outline {
            stroke: #2c3e50;
            stroke-width: 1.5;
            fill: #34495e;
        }
    </style>
</head>
<body>
    <div class="diagram-container">
        <div class="header">
            <div class="title">ML-303 Arduino Integration Wiring Diagram</div>
            <div class="subtitle">Phase 1: I2C Communication Setup<br>PIC18LF452 ↔ Arduino Pro Micro</div>
        </div>

        <!-- Wire Color Legend -->
        <div class="diagram-section">
            <div class="section-title">Wire Color Legend</div>
            <div class="wire-legend">
                <div class="wire-item">
                    <div class="wire-color" style="background: #e74c3c;"></div>
                    <span>+5V Power (Red)</span>
                </div>
                <div class="wire-item">
                    <div class="wire-color" style="background: #2c3e50;"></div>
                    <span>Ground (Black)</span>
                </div>
                <div class="wire-item">
                    <div class="wire-color" style="background: #3498db;"></div>
                    <span>I2C SDA Data (Blue)</span>
                </div>
                <div class="wire-item">
                    <div class="wire-color" style="background: #27ae60;"></div>
                    <span>I2C SCL Clock (Green)</span>
                </div>
            </div>
        </div>

        <!-- Main Wiring Diagram -->
        <div class="diagram-section">
            <div class="section-title">Physical Connections Overview</div>
            
            <svg width="1100" height="600" viewBox="0 0 1100 600">
                <!-- Background -->
                <rect width="1100" height="600" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1"/>
                
                <!-- ML-303 Sequencer Board -->
                <g id="ml303-board">
                    <rect x="50" y="150" width="400" height="250" class="board-outline"/>
                    <text x="250" y="140" text-anchor="middle" class="component-label" style="font-size: 14px;">ML-303 Sequencer Board</text>
                    
                    <!-- PIC18LF452 Chip -->
                    <rect x="150" y="200" width="200" height="80" class="chip-outline"/>
                    <text x="250" y="190" text-anchor="middle" class="component-label">PIC18LF452-I/P</text>
                    <text x="250" y="245" text-anchor="middle" style="fill: white; font-size: 10px;">40-Pin DIP</text>
                    
                    <!-- PIC Pin Highlights -->
                    <circle cx="160" cy="220" r="4" class="pin-highlight"/>
                    <text x="140" y="225" class="pin-label">Pin 18 (RC3/SCL)</text>
                    
                    <circle cx="160" cy="235" r="4" class="pin-highlight"/>
                    <text x="140" y="240" class="pin-label">Pin 23 (RC4/SDA)</text>
                    
                    <circle cx="160" cy="250" r="4" class="pin-highlight"/>
                    <text x="140" y="255" class="pin-label">Pin 11 (VDD/+5V)</text>
                    
                    <circle cx="160" cy="265" r="4" class="pin-highlight"/>
                    <text x="140" y="270" class="pin-label">Pin 12 (VSS/GND)</text>
                </g>

                <!-- Arduino Pro Micro -->
                <g id="arduino-board">
                    <rect x="600" y="100" width="120" height="300" class="board-outline"/>
                    <text x="660" y="90" text-anchor="middle" class="component-label" style="font-size: 14px;">Arduino Pro Micro</text>
                    
                    <!-- Arduino outline detail -->
                    <rect x="610" y="110" width="100" height="280" stroke="#34495e" stroke-width="1" fill="#2c3e50"/>
                    
                    <!-- Pin labels -->
                    <circle cx="620" cy="150" r="3" fill="#ffd700"/>
                    <text x="630" y="155" class="pin-label" fill="white">Pin 2 (SDA)</text>
                    
                    <circle cx="620" cy="170" r="3" fill="#ffd700"/>
                    <text x="630" y="175" class="pin-label" fill="white">Pin 3 (SCL)</text>
                    
                    <circle cx="620" cy="350" r="3" fill="#ffd700"/>
                    <text x="630" y="355" class="pin-label" fill="white">VCC (+5V)</text>
                    
                    <circle cx="620" cy="370" r="3" fill="#ffd700"/>
                    <text x="630" y="375" class="pin-label" fill="white">GND</text>
                    
                    <!-- USB Connector -->
                    <rect x="600" y="240" width="20" height="10" fill="#95a5a6"/>
                    <text x="580" y="250" class="pin-label">USB</text>
                </g>

                <!-- Connection Wires -->
                <g id="wires">
                    <!-- I2C SDA (Blue) -->
                    <path d="M 160 235 Q 400 235 620 150" class="wire-path" stroke="#3498db"/>
                    <text x="390" y="200" class="pin-label" fill="#3498db">I2C SDA Data</text>
                    
                    <!-- I2C SCL (Green) -->
                    <path d="M 160 220 Q 380 220 620 170" class="wire-path" stroke="#27ae60"/>
                    <text x="370" y="180" class="pin-label" fill="#27ae60">I2C SCL Clock</text>
                    
                    <!-- Power +5V (Red) -->
                    <path d="M 160 250 Q 420 320 620 350" class="wire-path" stroke="#e74c3c"/>
                    <text x="390" y="340" class="pin-label" fill="#e74c3c">+5V Power</text>
                    
                    <!-- Ground (Black) -->
                    <path d="M 160 265 Q 400 340 620 370" class="wire-path" stroke="#2c3e50"/>
                    <text x="370" y="360" class="pin-label" fill="#2c3e50">Ground</text>
                </g>

                <!-- Mounting Configuration -->
                <g id="mounting">
                    <rect x="800" y="120" width="250" height="200" stroke="#7f8c8d" stroke-width="1" fill="#ecf0f1"/>
                    <text x="925" y="140" text-anchor="middle" class="component-label">Mounting Configuration</text>
                    
                    <!-- Standoff illustration -->
                    <rect x="850" y="160" width="15" height="40" fill="#95a5a6"/>
                    <rect x="980" y="160" width="15" height="40" fill="#95a5a6"/>
                    <rect x="850" y="260" width="15" height="40" fill="#95a5a6"/>
                    <rect x="980" y="260" width="15" height="40" fill="#95a5a6"/>
                    
                    <text x="925" y="220" text-anchor="middle" class="pin-label">4x 10mm Standoffs</text>
                    <text x="925" y="235" text-anchor="middle" class="pin-label">M3 Screws</text>
                    <text x="925" y="250" text-anchor="middle" class="pin-label">Above Sequencer Board</text>
                </g>

                <!-- Power Supply Info -->
                <g id="power-info">
                    <rect x="800" y="350" width="250" height="120" stroke="#f39c12" stroke-width="2" fill="#fef9e7"/>
                    <text x="925" y="370" text-anchor="middle" class="component-label">Power Requirements</text>
                    <text x="810" y="390" class="pin-label">Arduino: ~50mA @ 5V</text>
                    <text x="810" y="405" class="pin-label">Total: ~60mA additional</text>
                    <text x="810" y="420" class="pin-label">Source: ML-303 +5V rail</text>
                    <text x="810" y="435" class="pin-label">Verify: 4.8V - 5.2V stable</text>
                    <text x="810" y="450" class="pin-label">Check: No voltage drop</text>
                </g>
            </svg>
        </div>

        <!-- Connection Table -->
        <div class="diagram-section">
            <div class="section-title">Detailed Pin Connections</div>
            <table class="connection-table">
                <thead>
                    <tr>
                        <th>PIC18LF452 Pin</th>
                        <th>Function</th>
                        <th>Wire Color</th>
                        <th>Arduino Pro Micro Pin</th>
                        <th>Arduino Function</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Pin 18 (RC3)</td>
                        <td>I2C SCL Clock</td>
                        <td style="color: #27ae60; font-weight: bold;">Green</td>
                        <td>Pin 3</td>
                        <td>I2C SCL Clock</td>
                    </tr>
                    <tr>
                        <td>Pin 23 (RC4)</td>
                        <td>I2C SDA Data</td>
                        <td style="color: #3498db; font-weight: bold;">Blue</td>
                        <td>Pin 2</td>
                        <td>I2C SDA Data</td>
                    </tr>
                    <tr>
                        <td>Pin 11 (VDD)</td>
                        <td>+5V Power</td>
                        <td style="color: #e74c3c; font-weight: bold;">Red</td>
                        <td>VCC</td>
                        <td>Power Input</td>
                    </tr>
                    <tr>
                        <td>Pin 12 (VSS)</td>
                        <td>Ground</td>
                        <td style="color: #2c3e50; font-weight: bold;">Black</td>
                        <td>GND</td>
                        <td>Ground</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- I2C Configuration -->
        <div class="diagram-section">
            <div class="section-title">I2C Communication Settings</div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                <div>
                    <h4>PIC18LF452 Configuration</h4>
                    <ul>
                        <li><strong>Mode:</strong> I2C Master</li>
                        <li><strong>Address:</strong> N/A (Master)</li>
                        <li><strong>Clock Speed:</strong> 100kHz</li>
                        <li><strong>SSPADD:</strong> 24 (with 10MHz osc)</li>
                        <li><strong>Pull-ups:</strong> Internal</li>
                    </ul>
                </div>
                <div>
                    <h4>Arduino Pro Micro Configuration</h4>
                    <ul>
                        <li><strong>Mode:</strong> I2C Slave</li>
                        <li><strong>Address:</strong> 0x43 (67 decimal)</li>
                        <li><strong>Clock Speed:</strong> 100kHz max</li>
                        <li><strong>Library:</strong> Wire.h</li>
                        <li><strong>Pull-ups:</strong> Internal</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Mounting Instructions -->
        <div class="mounting-info">
            <div class="section-title">Physical Mounting Instructions</div>
            <ol>
                <li><strong>Standoff Placement:</strong> Install 4x M3×10mm standoffs above sequencer board corners</li>
                <li><strong>Arduino Orientation:</strong> USB connector facing outward for programming access</li>
                <li><strong>Clearance Check:</strong> Ensure 15mm minimum clearance above Arduino for case closure</li>
                <li><strong>Wire Routing:</strong> Route wires along board edges to avoid interference</li>
                <li><strong>Strain Relief:</strong> Secure wires with cable ties to prevent stress on solder joints</li>
            </ol>
        </div>

        <!-- Testing Checklist -->
        <div class="diagram-section">
            <div class="section-title">Phase 1 Testing Checklist</div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                <div>
                    <h4>Pre-Connection Tests</h4>
                    <ul>
                        <li>☐ Verify +5V supply: 4.8-5.2V</li>
                        <li>☐ Check PIC pin continuity</li>
                        <li>☐ Test Arduino USB programming</li>
                        <li>☐ Compile both firmware files</li>
                    </ul>
                </div>
                <div>
                    <h4>Post-Connection Tests</h4>
                    <ul>
                        <li>☐ No shorts between power/signal</li>
                        <li>☐ Arduino powers on (LED lights)</li>
                        <li>☐ Serial monitor shows "Waiting..."</li>
                        <li>☐ I2C communication established</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Warning Box -->
        <div class="warning-box">
            <strong>⚠️ Important Safety Notes:</strong>
            <ul>
                <li>Always power off ML-303 before making connections</li>
                <li>Double-check wire colors and connections before applying power</li>
                <li>Use proper ESD precautions when handling Arduino and PIC</li>
                <li>Start with Arduino powered via USB for initial testing</li>
                <li>Verify no shorts with multimeter before powering on</li>
            </ul>
        </div>

        <!-- Footer -->
        <div style="text-align: center; margin-top: 30px; padding-top: 20px; border-top: 1px solid #bdc3c7; color: #7f8c8d;">
            <p>ML-303 Arduino Integration Project - Phase 1: I2C Communication</p>
            <p>Next Phase: LCD Display Takeover & Effects Control</p>
        </div>
    </div>
</body>
</html>