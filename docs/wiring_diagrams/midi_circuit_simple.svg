<?xml version="1.0" encoding="UTF-8"?>
<svg width="700" height="500" xmlns="http://www.w3.org/2000/svg">
  <rect width="700" height="500" fill="#f0f0f0"/>
  
  <!-- Title -->
  <text x="350" y="25" text-anchor="middle" font-size="20" font-weight="bold" fill="#000">MIDI Interface Circuit (6N138)</text>
  
  <!-- MIDI Input Section -->
  <text x="150" y="60" text-anchor="middle" font-size="16" font-weight="bold" fill="#000">MIDI INPUT</text>
  
  <!-- DIN Socket -->
  <circle cx="80" cy="100" r="25" fill="#666" stroke="#000" stroke-width="2"/>
  <text x="80" y="80" text-anchor="middle" font-size="12" fill="#000">DIN-5</text>
  <text x="80" y="140" text-anchor="middle" font-size="12" fill="#000">MIDI IN</text>
  
  <!-- Pin labels -->
  <text x="60" y="90" font-size="10" fill="#000">4</text>
  <text x="60" y="110" font-size="10" fill="#000">5</text>
  
  <!-- 220Ω Resistors -->
  <rect x="140" y="85" width="30" height="8" fill="#deb887" stroke="#000" rx="2"/>
  <text x="155" y="95" text-anchor="middle" font-size="10" fill="#000">220Ω</text>
  
  <rect x="140" y="105" width="30" height="8" fill="#deb887" stroke="#000" rx="2"/>
  <text x="155" y="115" text-anchor="middle" font-size="10" fill="#000">220Ω</text>
  
  <!-- 6N138 IC -->
  <rect x="220" y="75" width="60" height="50" fill="#333" stroke="#000" stroke-width="2" rx="3"/>
  <text x="250" y="95" text-anchor="middle" font-size="12" font-weight="bold" fill="#fff">6N138</text>
  <text x="250" y="110" text-anchor="middle" font-size="10" fill="#fff">Optocoupler</text>
  
  <!-- Pin numbers -->
  <text x="215" y="85" font-size="8" fill="#000">2</text>
  <text x="215" y="95" font-size="8" fill="#000">3</text>
  <text x="215" y="105" font-size="8" fill="#000">5</text>
  <text x="215" y="115" font-size="8" fill="#000">8</text>
  
  <text x="285" y="85" font-size="8" fill="#000">7</text>
  <text x="285" y="95" font-size="8" fill="#000">6</text>
  <text x="285" y="105" font-size="8" fill="#000">5</text>
  <text x="285" y="115" font-size="8" fill="#000">8</text>
  
  <!-- 4.7k Pull-up -->
  <rect x="320" y="90" width="8" height="20" fill="#deb887" stroke="#000" rx="2"/>
  <text x="340" y="100" font-size="10" fill="#000">4.7kΩ</text>
  
  <!-- MIDI Output Section -->
  <text x="500" y="60" text-anchor="middle" font-size="16" font-weight="bold" fill="#000">MIDI OUTPUT</text>
  
  <!-- Output DIN Socket -->
  <circle cx="580" cy="100" r="25" fill="#666" stroke="#000" stroke-width="2"/>
  <text x="580" y="80" text-anchor="middle" font-size="12" fill="#000">DIN-5</text>
  <text x="580" y="140" text-anchor="middle" font-size="12" fill="#000">MIDI OUT</text>
  
  <!-- Output 220Ω Resistor -->
  <rect x="480" y="95" width="30" height="8" fill="#deb887" stroke="#000" rx="2"/>
  <text x="495" y="105" text-anchor="middle" font-size="10" fill="#000">220Ω</text>
  
  <!-- Connection lines -->
  <line x1="105" y1="90" x2="140" y2="90" stroke="#000" stroke-width="2"/>
  <line x1="105" y1="110" x2="140" y2="110" stroke="#000" stroke-width="2"/>
  <line x1="170" y1="90" x2="220" y2="85" stroke="#000" stroke-width="2"/>
  <line x1="170" y1="110" x2="220" y2="95" stroke="#000" stroke-width="2"/>
  <line x1="280" y1="95" x2="320" y2="95" stroke="#000" stroke-width="2"/>
  <line x1="328" y1="95" x2="380" y2="95" stroke="#000" stroke-width="2"/>
  
  <line x1="430" y1="100" x2="480" y2="100" stroke="#000" stroke-width="2"/>
  <line x1="510" y1="100" x2="555" y2="100" stroke="#000" stroke-width="2"/>
  
  <!-- Power labels -->
  <text x="324" y="85" font-size="10" fill="#ff0000">+5V</text>
  <text x="324" y="125" font-size="10" fill="#000">GND</text>
  <text x="390" y="90" font-size="10" fill="#000">To Arduino A4</text>
  <text x="400" y="100" font-size="10" fill="#000">From Arduino A5</text>
  
  <!-- Component List -->
  <rect x="50" y="200" width="600" height="280" fill="#fff" stroke="#000" stroke-width="1"/>
  <text x="60" y="220" font-size="14" font-weight="bold" fill="#000">MIDI Interface Components:</text>
  
  <text x="60" y="245" font-size="12" font-weight="bold" fill="#000">MIDI INPUT:</text>
  <text x="70" y="260" font-size="11" fill="#000">• 1× 6N138 Optocoupler (DIP-8)</text>
  <text x="70" y="275" font-size="11" fill="#000">• 2× 220Ω resistors (1/4W)</text>
  <text x="70" y="290" font-size="11" fill="#000">• 1× 4.7kΩ resistor (1/4W)</text>
  <text x="70" y="305" font-size="11" fill="#000">• 1× DIN-5 female socket</text>
  
  <text x="60" y="330" font-size="12" font-weight="bold" fill="#000">MIDI OUTPUT:</text>
  <text x="70" y="345" font-size="11" fill="#000">• 1× 220Ω resistor (1/4W)</text>
  <text x="70" y="360" font-size="11" fill="#000">• 1× DIN-5 female socket</text>
  
  <text x="350" y="245" font-size="12" font-weight="bold" fill="#000">Connections:</text>
  <text x="360" y="260" font-size="11" fill="#000">MIDI IN: DIN Pin 4,5 → 220Ω → 6N138</text>
  <text x="360" y="275" font-size="11" fill="#000">6N138 Pin 6 → 4.7kΩ → +5V</text>
  <text x="360" y="290" font-size="11" fill="#000">6N138 Pin 6 → Arduino A4</text>
  <text x="360" y="305" font-size="11" fill="#000">Arduino A5 → 220Ω → DIN Pin 5</text>
  <text x="360" y="320" font-size="11" fill="#000">+5V → DIN Pin 4 (OUT)</text>
  
  <text x="60" y="380" font-size="12" font-weight="bold" fill="#000">Power Supply:</text>
  <text x="70" y="395" font-size="11" fill="#000">• +5V from Arduino or external supply</text>
  <text x="70" y="410" font-size="11" fill="#000">• Common ground between Arduino and MIDI</text>
  
  <text x="60" y="435" font-size="12" font-weight="bold" fill="#000">Notes:</text>
  <text x="70" y="450" font-size="11" fill="#000">• 6N138 provides complete electrical isolation</text>
  <text x="70" y="465" font-size="11" fill="#000">• Standard MIDI 1.0 specification compliance</text>
</svg>